<footer class="site-footer">
  <div
    class="footer-menu"
    th:if="${theme.config.footer != null} and ${not #lists.isEmpty(theme.config.footer.mobile_menu)}"
  >
    <div class="container footer-menu-inner">
      <div class="footer-menu-list">
        <th:block
          th:each="item : ${theme.config.footer.mobile_menu}"
          th:with="iconRaw=${item.foot_menu_icon},
                   iconIsMap=${iconRaw instanceof T(java.util.Map)},
                   iconIsString=${iconRaw instanceof T(java.lang.String)},
                   iconNameValue=${iconIsMap ? iconRaw['name'] : (iconIsString ? iconRaw : (iconRaw != null ? T(java.lang.String).valueOf(iconRaw) : ''))},
                   iconText=${iconNameValue != null ? T(java.lang.String).valueOf(iconNameValue) : ''},
                   iconTextTrim=${#strings.trim(iconText)},
                   iconTextParsed=${#strings.contains(iconTextTrim, '&quot;name&quot;') ? #strings.substringBefore(#strings.substringAfter(iconTextTrim, '&quot;name&quot;:&quot;'), '&quot;') : iconTextTrim},
                   iconKey=${#strings.isEmpty(iconTextParsed) ? item.icon : iconTextParsed},
                   hasIcon=${not #strings.isEmpty(iconKey)},
                   iconPath=${hasIcon ? #strings.replace(T(java.lang.String).valueOf(iconKey), ':', '/') : ''}"
        >
          <th:block th:switch="${item.action}">
            <a
              th:case="'custom'"
              class="footer-menu-btn"
              th:href="${#strings.isEmpty(item.url) ? 'javascript:void(0)' : item.url}"
              th:attr="aria-label=${item.name}"
            >
              <span
                class="footer-menu-icon"
                th:if="${hasIcon}"
                th:attr="data-footer-icon=|https://api.iconify.design/${iconPath}.svg|"
              ></span>
              <span th:if="${!hasIcon}" th:text="${item.name}"></span>
            </a>
            <button
              th:case="'search'"
              th:if="${pluginFinder.available('PluginSearchWidget')}"
              class="footer-menu-btn"
              type="button"
              data-footer-action="search"
              th:attr="aria-label=${item.name}"
            >
              <span
                class="footer-menu-icon"
                th:if="${hasIcon}"
                th:attr="data-footer-icon=|https://api.iconify.design/${iconPath}.svg|"
              ></span>
              <span th:if="${!hasIcon}" th:text="${item.name}"></span>
            </button>
            <button
              th:case="'top'"
              class="footer-menu-btn"
              type="button"
              data-footer-action="top"
              th:attr="aria-label=${item.name}"
            >
              <span
                class="footer-menu-icon"
                th:if="${hasIcon}"
                th:attr="data-footer-icon=|https://api.iconify.design/${iconPath}.svg|"
              ></span>
              <span th:if="${!hasIcon}" th:text="${item.name}"></span>
            </button>
            <span th:case="*" class="footer-menu-btn" th:attr="aria-label=${item.name}">
              <span
                class="footer-menu-icon"
                th:if="${hasIcon}"
                th:attr="data-footer-icon=|https://api.iconify.design/${iconPath}.svg|"
              ></span>
              <span th:if="${!hasIcon}" th:text="${item.name}"></span>
            </span>
          </th:block>
        </th:block>
      </div>
    </div>
  </div>
  <div class="container footer-inner">
    <div class="footer-brand">
      <div class="footer-title" th:text="${site.title}"></div>
      <div
        class="footer-desc"
        th:text="${theme.config.footer == null || #strings.isEmpty(theme.config.footer.footer_text) ? '' : theme.config.footer.footer_text}"
      ></div>
    </div>
    <div
      class="footer-meta"
      th:if="${theme.config.footer != null} and ${not #strings.isEmpty(theme.config.footer.footer_record)}"
    >
      <a
        class="footer-record"
        href="https://beian.miit.gov.cn/"
        target="_blank"
        rel="noopener"
        th:text="${theme.config.footer.footer_record}"
      ></a>
    </div>
  </div>
</footer>
