<!doctype html>
<html
  xmlns:th="https://www.thymeleaf.org"
  th:replace="~{modules/layout :: layout(title = ${category.spec.displayName} + ' - ' + ${site.title}, content = ~{::content}, head = null, bodyClass = 'page-category-news')}"
>
  <th:block th:fragment="content">
    <section class="content-block category-news" th:with="newsConfig=${theme.config.news}, modules=${newsConfig != null ? newsConfig.modules : null}">
      <header class="content-header">
        <h1 class="content-title" th:text="${category.spec.displayName}"></h1>
      </header>
      <div class="news-modules" th:if="${modules != null and #lists.size(modules) > 0}">
        <th:block
          th:each="module : ${modules}"
          th:with="layoutRaw=${module['layout'] != null ? module['layout'] : ''},
                   layout=${#strings.trim(T(java.lang.String).valueOf(layoutRaw))},
                   isSingle=${layout == '1'},
                   isDoubleEqual=${layout == '2'},
                   isDoubleWide=${layout == '3'},
                   isDouble=${isDoubleEqual or isDoubleWide},
                   isTriple=${layout == '4'},
                   limitRaw=${module['limit'] != null ? module['limit'] : 6},
                   limit=${limitRaw instanceof T(java.lang.Number) ? limitRaw.intValue() : T(java.lang.Integer).parseInt(T(java.lang.String).valueOf(limitRaw))}"
        >
          <section
            class="news-module"
            th:if="${isSingle or isDouble or isTriple}"
            th:classappend="|layout-${layout}|"
          >
          <div class="news-columns">
            <div
              class="news-column news-column--single"
              th:if="${isSingle}"
              th:with="colConfig=${module['col1_category']},
                       colIsMap=${colConfig instanceof T(java.util.Map)},
                       colValue=${colIsMap ? colConfig['category'] : colConfig},
                       colCandidate=${colValue instanceof T(run.halo.app.theme.finders.vo.CategoryVo) || colValue instanceof T(java.util.Map) ? colValue : null},
                       colName=${colCandidate != null && colCandidate.metadata != null ? colCandidate.metadata.name : colValue},
                       categoryList=${colCandidate == null && colName != null ? categoryFinder.getByNames(T(java.util.List).of(T(java.lang.String).valueOf(colName))) : null},
                       category=${colCandidate != null ? colCandidate : (categoryList != null and #lists.size(categoryList) > 0 ? categoryList.get(0) : null)},
                       colMeta=${category != null ? category.metadata : null},
                       colSpec=${category != null ? category.spec : null},
                       colTitle=${colSpec != null ? colSpec.displayName : ''},
                       colLimit=${limit},
                       categoryKey=${colMeta != null && !#strings.isEmpty(colMeta.name) ? colMeta.name : colName},
                       colPosts=${!#strings.isEmpty(categoryKey) ? postFinder.listByCategory(1, colLimit, categoryKey) : null},
                       carouselItems=${module['carousel_posts']},
                       carouselCount=${carouselItems != null ? #lists.size(carouselItems) : 0},
                       pinnedPosts=${colPosts != null ? colPosts.items.?[spec.pinned == true] : null},
                       pinnedCount=${pinnedPosts != null ? #lists.size(pinnedPosts) : 0},
                       normalPosts=${colPosts != null ? colPosts.items.?[spec.pinned != true] : null},
                       remainingCount=${colLimit > pinnedCount ? colLimit - pinnedCount : 0},
                       showModuleTitle=${module['show_module_title'] == null ? false : module['show_module_title']},
                       showMore=${module['show_more'] == null ? true : module['show_more']}"
            >
              <div class="news-column-head" th:if="${!isSingle or showModuleTitle}">
                <div class="news-column-title" th:if="${not #strings.isEmpty(colTitle)}" th:text="${colTitle}"></div>
                <a class="news-column-more" th:if="${showMore and category != null}" th:href="@{${category.status.permalink}}">了解更多＞＞</a>
              </div>
              <div class="news-feature" th:if="${colPosts != null and colPosts.total gt 0}">
                <div class="news-carousel" th:if="${carouselItems != null and carouselCount gt 0}" data-news-carousel>
                  <button class="news-carousel-control is-prev" type="button" data-carousel-prev aria-label="Previous">
                    ‹
                  </button>
                  <button class="news-carousel-control is-next" type="button" data-carousel-next aria-label="Next">
                    ›
                  </button>
                  <div class="news-carousel-track" data-carousel-track>
                    <span class="news-carousel-data" th:each="item : ${carouselItems}" th:attr="data-id=${item}"></span>
                  </div>
                  <div class="news-carousel-dots" data-carousel-dots></div>
                </div>
                <div class="news-list" th:if="${colPosts != null and colPosts.total gt 0}">
                  <a
                    class="news-list-item is-pinned"
                    th:each="post, iterStat : ${pinnedPosts}"
                    th:if="${iterStat.index < colLimit}"
                    th:href="@{${post.status.permalink}}"
                  >
                    <span class="news-list-title">
                      <span class="news-list-pin">置顶</span>
                      <span class="news-list-text" th:text="${post.spec.title}"></span>
                    </span>
                    <span class="news-list-date" th:if="${post.spec.publishTime != null}" th:text="${#temporals.format(post.spec.publishTime, 'MM-dd')}"></span>
                  </a>
                  <a
                    class="news-list-item"
                    th:each="post, iterStat : ${normalPosts}"
                    th:if="${remainingCount > 0 and iterStat.index < remainingCount}"
                    th:href="@{${post.status.permalink}}"
                  >
                    <span class="news-list-title">
                      <span class="news-list-text" th:text="${post.spec.title}"></span>
                    </span>
                    <span class="news-list-date" th:if="${post.spec.publishTime != null}" th:text="${#temporals.format(post.spec.publishTime, 'MM-dd')}"></span>
                  </a>
                </div>
              </div>
              <div class="empty-state" th:if="${colPosts != null and colPosts.total == 0}">No posts</div>
            </div>
            <th:block
              th:if="${isDoubleEqual}"
              th:with="leftConfig=${module['col1_category']},
                       leftIsMap=${leftConfig instanceof T(java.util.Map)},
                       leftValue=${leftIsMap ? leftConfig['category'] : leftConfig},
                       leftCandidate=${leftValue instanceof T(run.halo.app.theme.finders.vo.CategoryVo) || leftValue instanceof T(java.util.Map) ? leftValue : null},
                       leftName=${leftCandidate != null && leftCandidate.metadata != null ? leftCandidate.metadata.name : leftValue},
                       leftList=${leftCandidate == null && leftName != null ? categoryFinder.getByNames(T(java.util.List).of(T(java.lang.String).valueOf(leftName))) : null},
                       leftCategory=${leftCandidate != null ? leftCandidate : (leftList != null and #lists.size(leftList) > 0 ? leftList.get(0) : null)},
                       leftMeta=${leftCategory != null ? leftCategory.metadata : null},
                       leftSpec=${leftCategory != null ? leftCategory.spec : null},
                       leftTitle=${leftSpec != null ? leftSpec.displayName : ''},
                       leftLimit=${limit},
                       leftCategoryKey=${leftMeta != null && !#strings.isEmpty(leftMeta.name) ? leftMeta.name : leftName},
                       leftPosts=${leftLimit > 0 && !#strings.isEmpty(leftCategoryKey) ? postFinder.listByCategory(1, leftLimit, leftCategoryKey) : null},
                       leftPinnedPosts=${leftPosts != null ? leftPosts.items.?[spec.pinned == true] : null},
                       leftPinnedCount=${leftPinnedPosts != null ? #lists.size(leftPinnedPosts) : 0},
                       leftNormalPosts=${leftPosts != null ? leftPosts.items.?[spec.pinned != true] : null},
                       leftRemaining=${leftLimit > leftPinnedCount ? leftLimit - leftPinnedCount : 0}"
            >
              <div class="news-column news-column--equal">
                <div class="news-column-head">
                  <div class="news-column-title" th:if="${not #strings.isEmpty(leftTitle)}" th:text="${leftTitle}"></div>
                  <a class="news-column-more" th:if="${leftCategory != null}" th:href="@{${leftCategory.status.permalink}}">了解更多＞＞</a>
                </div>
                <div class="news-eq-list" th:if="${leftPosts != null and leftPosts.total gt 0}">
                  <a
                    class="news-eq-item is-pinned"
                    th:each="post, iterStat : ${leftPinnedPosts}"
                    th:if="${iterStat.index < leftLimit}"
                    th:href="@{${post.status.permalink}}"
                  >
                    <div
                      class="news-eq-cover"
                      th:if="${not #strings.isEmpty(post.spec.cover)}"
                      th:style="|background-image: url('${post.spec.cover}');|"
                    ></div>
                    <div class="news-eq-cover is-empty" th:if="${#strings.isEmpty(post.spec.cover)}"></div>
                    <div class="news-eq-body">
                      <div class="news-eq-title">
                        <span class="news-eq-pin">置顶</span>
                        <span class="news-eq-text" th:text="${post.spec.title}"></span>
                      </div>
                      <div class="news-eq-date" th:if="${post.spec.publishTime != null}" th:text="${#temporals.format(post.spec.publishTime, 'yyyy-MM-dd')}"></div>
                    </div>
                  </a>
                  <a
                    class="news-eq-item"
                    th:each="post, iterStat : ${leftNormalPosts}"
                    th:if="${leftRemaining > 0 and iterStat.index < leftRemaining}"
                    th:href="@{${post.status.permalink}}"
                  >
                    <div class="news-eq-body">
                      <div class="news-eq-title">
                        <span class="news-eq-text" th:text="${post.spec.title}"></span>
                      </div>
                      <div class="news-eq-date" th:if="${post.spec.publishTime != null}" th:text="${#temporals.format(post.spec.publishTime, 'yyyy-MM-dd')}"></div>
                    </div>
                  </a>
                </div>
                <div class="empty-state" th:if="${leftPosts != null and leftPosts.total == 0}">No posts</div>
              </div>
              <div
                class="news-column news-column--equal"
                th:with="rightConfig=${module['col2_category']},
                         rightIsMap=${rightConfig instanceof T(java.util.Map)},
                         rightValue=${rightIsMap ? rightConfig['category'] : rightConfig},
                         rightCandidate=${rightValue instanceof T(run.halo.app.theme.finders.vo.CategoryVo) || rightValue instanceof T(java.util.Map) ? rightValue : null},
                         rightName=${rightCandidate != null && rightCandidate.metadata != null ? rightCandidate.metadata.name : rightValue},
                         rightList=${rightCandidate == null && rightName != null ? categoryFinder.getByNames(T(java.util.List).of(T(java.lang.String).valueOf(rightName))) : null},
                         rightCategory=${rightCandidate != null ? rightCandidate : (rightList != null and #lists.size(rightList) > 0 ? rightList.get(0) : null)},
                         rightMeta=${rightCategory != null ? rightCategory.metadata : null},
                         rightSpec=${rightCategory != null ? rightCategory.spec : null},
                         rightTitle=${rightSpec != null ? rightSpec.displayName : ''},
                         rightFetchLimitRaw=${limit + leftPinnedCount},
                         rightFetchLimit=${rightFetchLimitRaw > 0 ? rightFetchLimitRaw : 0},
                         rightCategoryKey=${rightMeta != null && !#strings.isEmpty(rightMeta.name) ? rightMeta.name : rightName},
                         rightPosts=${rightFetchLimit > 0 && !#strings.isEmpty(rightCategoryKey) ? postFinder.listByCategory(1, rightFetchLimit, rightCategoryKey) : null},
                         rightPinnedPosts=${rightPosts != null ? rightPosts.items.?[spec.pinned == true] : null},
                         rightPinnedCount=${rightPinnedPosts != null ? #lists.size(rightPinnedPosts) : 0},
                         rightNormalPosts=${rightPosts != null ? rightPosts.items.?[spec.pinned != true] : null},
                         rightLimitRaw=${limit + leftPinnedCount - rightPinnedCount},
                         rightLimit=${rightLimitRaw > 0 ? rightLimitRaw : 0},
                         rightRemaining=${rightLimit > rightPinnedCount ? rightLimit - rightPinnedCount : 0}"
              >
                <div class="news-column-head">
                  <div class="news-column-title" th:if="${not #strings.isEmpty(rightTitle)}" th:text="${rightTitle}"></div>
                  <a class="news-column-more" th:if="${rightCategory != null}" th:href="@{${rightCategory.status.permalink}}">了解更多＞＞</a>
                </div>
                <div class="news-eq-list" th:if="${rightPosts != null and rightPosts.total gt 0}">
                  <a
                    class="news-eq-item is-pinned"
                    th:each="post, iterStat : ${rightPinnedPosts}"
                    th:if="${iterStat.index < rightLimit}"
                    th:href="@{${post.status.permalink}}"
                  >
                    <div
                      class="news-eq-cover"
                      th:if="${not #strings.isEmpty(post.spec.cover)}"
                      th:style="|background-image: url('${post.spec.cover}');|"
                    ></div>
                    <div class="news-eq-cover is-empty" th:if="${#strings.isEmpty(post.spec.cover)}"></div>
                    <div class="news-eq-body">
                      <div class="news-eq-title">
                        <span class="news-eq-pin">置顶</span>
                        <span class="news-eq-text" th:text="${post.spec.title}"></span>
                      </div>
                      <div class="news-eq-date" th:if="${post.spec.publishTime != null}" th:text="${#temporals.format(post.spec.publishTime, 'yyyy-MM-dd')}"></div>
                    </div>
                  </a>
                  <a
                    class="news-eq-item"
                    th:each="post, iterStat : ${rightNormalPosts}"
                    th:if="${rightRemaining > 0 and iterStat.index < rightRemaining}"
                    th:href="@{${post.status.permalink}}"
                  >
                    <div class="news-eq-body">
                      <div class="news-eq-title">
                        <span class="news-eq-text" th:text="${post.spec.title}"></span>
                      </div>
                      <div class="news-eq-date" th:if="${post.spec.publishTime != null}" th:text="${#temporals.format(post.spec.publishTime, 'yyyy-MM-dd')}"></div>
                    </div>
                  </a>
                </div>
                <div class="empty-state" th:if="${rightPosts != null and rightPosts.total == 0}">No posts</div>
              </div>
            </th:block>
            <div
              class="news-column news-column--left"
              th:if="${isDoubleWide}"
              th:with="colConfig=${module['col1_category']},
                       colIsMap=${colConfig instanceof T(java.util.Map)},
                       colValue=${colIsMap ? colConfig['category'] : colConfig},
                       colCandidate=${colValue instanceof T(run.halo.app.theme.finders.vo.CategoryVo) || colValue instanceof T(java.util.Map) ? colValue : null},
                       colName=${colCandidate != null && colCandidate.metadata != null ? colCandidate.metadata.name : colValue},
                       categoryList=${colCandidate == null && colName != null ? categoryFinder.getByNames(T(java.util.List).of(T(java.lang.String).valueOf(colName))) : null},
                       category=${colCandidate != null ? colCandidate : (categoryList != null and #lists.size(categoryList) > 0 ? categoryList.get(0) : null)},
                       colMeta=${category != null ? category.metadata : null},
                       colSpec=${category != null ? category.spec : null},
                       colTitle=${colSpec != null ? colSpec.displayName : ''},
                       leftLimit=${limit > 0 ? (limit * 3 - 1) * 2 : 0},
                       categoryKey=${colMeta != null && !#strings.isEmpty(colMeta.name) ? colMeta.name : colName},
                       leftPosts=${leftLimit > 0 && !#strings.isEmpty(categoryKey) ? postFinder.listByCategory(1, leftLimit, categoryKey) : null}"
            >
              <div class="news-column-title" th:if="${not #strings.isEmpty(colTitle)}" th:text="${colTitle}"></div>
              <div class="news-left-grid" th:if="${leftPosts != null and leftPosts.total gt 0}">
                <a
                  class="news-left-item news-left-item--feature"
                  th:each="post, iterStat : ${leftPosts.items}"
                  th:if="${iterStat.index < 2 and iterStat.index < leftLimit}"
                  th:href="@{${post.status.permalink}}"
                >
                  <div
                    class="news-left-cover"
                    th:if="${not #strings.isEmpty(post.spec.cover)}"
                    th:style="|background-image: url('${post.spec.cover}');|"
                  ></div>
                  <div class="news-left-cover is-empty" th:if="${#strings.isEmpty(post.spec.cover)}"></div>
                  <div class="news-left-body">
                    <div class="news-left-title">
                      <span class="news-left-pin" th:if="${post.spec.pinned}">置顶</span>
                      <span class="news-left-text" th:text="${post.spec.title}"></span>
                    </div>
                    <div class="news-left-date" th:if="${post.spec.publishTime != null}" th:text="${#temporals.format(post.spec.publishTime, 'yyyy-MM-dd')}"></div>
                  </div>
                </a>
                <a
                  class="news-left-item"
                  th:each="post, iterStat : ${leftPosts.items}"
                  th:if="${iterStat.index >= 2 and iterStat.index < leftLimit}"
                  th:href="@{${post.status.permalink}}"
                >
                  <div class="news-left-line">
                    <span class="news-left-title">
                      <span class="news-left-pin" th:if="${post.spec.pinned}">置顶</span>
                      <span class="news-left-text" th:text="${post.spec.title}"></span>
                    </span>
                    <span class="news-left-date" th:if="${post.spec.publishTime != null}" th:text="${#temporals.format(post.spec.publishTime, 'yyyy-MM-dd')}"></span>
                  </div>
                </a>
              </div>
              <div class="empty-state" th:if="${leftPosts != null and leftPosts.total == 0}">No posts</div>
            </div>
            <div
              class="news-column news-column--right"
              th:if="${isDoubleWide}"
              th:with="colConfig=${module['col2_category']},
                       colIsMap=${colConfig instanceof T(java.util.Map)},
                       colValue=${colIsMap ? colConfig['category'] : colConfig},
                       colCandidate=${colValue instanceof T(run.halo.app.theme.finders.vo.CategoryVo) || colValue instanceof T(java.util.Map) ? colValue : null},
                       colName=${colCandidate != null && colCandidate.metadata != null ? colCandidate.metadata.name : colValue},
                       categoryList=${colCandidate == null && colName != null ? categoryFinder.getByNames(T(java.util.List).of(T(java.lang.String).valueOf(colName))) : null},
                       category=${colCandidate != null ? colCandidate : (categoryList != null and #lists.size(categoryList) > 0 ? categoryList.get(0) : null)},
                       colMeta=${category != null ? category.metadata : null},
                       colSpec=${category != null ? category.spec : null},
                       colTitle=${colSpec != null ? colSpec.displayName : ''},
                       categoryKey=${colMeta != null && !#strings.isEmpty(colMeta.name) ? colMeta.name : colName},
                       rightPosts=${limit > 0 && !#strings.isEmpty(categoryKey) ? postFinder.listByCategory(1, limit, categoryKey) : null}"
            >
              <div class="news-column-title" th:if="${not #strings.isEmpty(colTitle)}" th:text="${colTitle}"></div>
              <div class="news-right-list" th:if="${rightPosts != null and rightPosts.total gt 0}">
                <a
                  class="news-right-item"
                  th:each="post, iterStat : ${rightPosts.items}"
                  th:if="${iterStat.index < limit}"
                  th:href="@{${post.status.permalink}}"
                >
                  <div
                    class="news-right-cover"
                    th:if="${not #strings.isEmpty(post.spec.cover)}"
                    th:style="|background-image: url('${post.spec.cover}');|"
                  ></div>
                  <div class="news-right-cover is-empty" th:if="${#strings.isEmpty(post.spec.cover)}"></div>
                  <div class="news-right-overlay">
                    <span class="news-right-pin" th:if="${post.spec.pinned}">置顶</span>
                    <div class="news-right-title" th:text="${post.spec.title}"></div>
                    <div class="news-right-meta">
                      <span th:if="${post.spec.publishTime != null}" th:text="${#temporals.format(post.spec.publishTime, 'yyyy-MM-dd')}"></span>
                    </div>
                  </div>
                </a>
              </div>
              <div class="empty-state" th:if="${rightPosts != null and rightPosts.total == 0}">No posts</div>
            </div>
            <th:block
              th:if="${isTriple}"
              th:with="leftConfig=${module['col1_category']},
                       leftIsMap=${leftConfig instanceof T(java.util.Map)},
                       leftValue=${leftIsMap ? leftConfig['category'] : leftConfig},
                       leftCandidate=${leftValue instanceof T(run.halo.app.theme.finders.vo.CategoryVo) || leftValue instanceof T(java.util.Map) ? leftValue : null},
                       leftName=${leftCandidate != null && leftCandidate.metadata != null ? leftCandidate.metadata.name : leftValue},
                       leftList=${leftCandidate == null && leftName != null ? categoryFinder.getByNames(T(java.util.List).of(T(java.lang.String).valueOf(leftName))) : null},
                       leftCategory=${leftCandidate != null ? leftCandidate : (leftList != null and #lists.size(leftList) > 0 ? leftList.get(0) : null)},
                       leftMeta=${leftCategory != null ? leftCategory.metadata : null},
                       leftSpec=${leftCategory != null ? leftCategory.spec : null},
                       leftTitle=${leftSpec != null ? leftSpec.displayName : ''},
                       leftLimit=${limit},
                       leftCategoryKey=${leftMeta != null && !#strings.isEmpty(leftMeta.name) ? leftMeta.name : leftName},
                       leftPosts=${leftLimit > 0 && !#strings.isEmpty(leftCategoryKey) ? postFinder.listByCategory(1, leftLimit, leftCategoryKey) : null},
                       leftVisibleCount=${leftPosts != null ? #lists.size(leftPosts.items) : 0}"
            >
              <div class="news-column news-column--triple">
                <div class="news-column-head">
                  <div class="news-column-title" th:if="${not #strings.isEmpty(leftTitle)}" th:text="${leftTitle}"></div>
                  <a class="news-column-more" th:if="${leftCategory != null}" th:href="@{${leftCategory.status.permalink}}">了解更多＞＞</a>
                </div>
                <div class="news-triple-list" th:if="${leftPosts != null and leftPosts.total gt 0}">
                  <a
                    class="news-triple-item"
                    th:each="post, iterStat : ${leftPosts.items}"
                    th:if="${iterStat.index < leftVisibleCount}"
                    th:href="@{${post.status.permalink}}"
                  >
                    <span class="news-triple-title">
                      <span class="news-triple-pin" th:if="${post.spec.pinned}">置顶</span>
                      <span class="news-triple-text" th:text="${post.spec.title}"></span>
                    </span>
                    <span class="news-triple-date" th:if="${post.spec.publishTime != null}" th:text="${#temporals.format(post.spec.publishTime, 'yyyy-MM-dd')}"></span>
                  </a>
                </div>
                <div class="empty-state" th:if="${leftPosts != null and leftPosts.total == 0}">No posts</div>
              </div>
              <div
                class="news-column news-column--triple"
                th:with="rightConfig=${module['col2_category']},
                         rightIsMap=${rightConfig instanceof T(java.util.Map)},
                         rightValue=${rightIsMap ? rightConfig['category'] : rightConfig},
                         rightCandidate=${rightValue instanceof T(run.halo.app.theme.finders.vo.CategoryVo) || rightValue instanceof T(java.util.Map) ? rightValue : null},
                         rightName=${rightCandidate != null && rightCandidate.metadata != null ? rightCandidate.metadata.name : rightValue},
                         rightList=${rightCandidate == null && rightName != null ? categoryFinder.getByNames(T(java.util.List).of(T(java.lang.String).valueOf(rightName))) : null},
                         rightCategory=${rightCandidate != null ? rightCandidate : (rightList != null and #lists.size(rightList) > 0 ? rightList.get(0) : null)},
                         rightMeta=${rightCategory != null ? rightCategory.metadata : null},
                         rightSpec=${rightCategory != null ? rightCategory.spec : null},
                         rightTitle=${rightSpec != null ? rightSpec.displayName : ''},
                         rightLimit=${leftVisibleCount},
                         rightCategoryKey=${rightMeta != null && !#strings.isEmpty(rightMeta.name) ? rightMeta.name : rightName},
                         rightPosts=${rightLimit > 0 && !#strings.isEmpty(rightCategoryKey) ? postFinder.listByCategory(1, rightLimit, rightCategoryKey) : null}"
              >
                <div class="news-column-head">
                  <div class="news-column-title" th:if="${not #strings.isEmpty(rightTitle)}" th:text="${rightTitle}"></div>
                  <a class="news-column-more" th:if="${rightCategory != null}" th:href="@{${rightCategory.status.permalink}}">了解更多＞＞</a>
                </div>
                <div class="news-triple-list" th:if="${rightPosts != null and rightPosts.total gt 0}">
                  <a
                    class="news-triple-item"
                    th:each="post, iterStat : ${rightPosts.items}"
                    th:if="${iterStat.index < rightLimit}"
                    th:href="@{${post.status.permalink}}"
                  >
                    <span class="news-triple-title">
                      <span class="news-triple-pin" th:if="${post.spec.pinned}">置顶</span>
                      <span class="news-triple-text" th:text="${post.spec.title}"></span>
                    </span>
                    <span class="news-triple-date" th:if="${post.spec.publishTime != null}" th:text="${#temporals.format(post.spec.publishTime, 'yyyy-MM-dd')}"></span>
                  </a>
                </div>
                <div class="empty-state" th:if="${rightPosts != null and rightPosts.total == 0}">No posts</div>
              </div>
              <div
                class="news-column news-column--triple"
                th:with="thirdConfig=${module['col3_category']},
                         thirdIsMap=${thirdConfig instanceof T(java.util.Map)},
                         thirdValue=${thirdIsMap ? thirdConfig['category'] : thirdConfig},
                         thirdCandidate=${thirdValue instanceof T(run.halo.app.theme.finders.vo.CategoryVo) || thirdValue instanceof T(java.util.Map) ? thirdValue : null},
                         thirdName=${thirdCandidate != null && thirdCandidate.metadata != null ? thirdCandidate.metadata.name : thirdValue},
                         thirdList=${thirdCandidate == null && thirdName != null ? categoryFinder.getByNames(T(java.util.List).of(T(java.lang.String).valueOf(thirdName))) : null},
                         thirdCategory=${thirdCandidate != null ? thirdCandidate : (thirdList != null and #lists.size(thirdList) > 0 ? thirdList.get(0) : null)},
                         thirdMeta=${thirdCategory != null ? thirdCategory.metadata : null},
                         thirdSpec=${thirdCategory != null ? thirdCategory.spec : null},
                         thirdTitle=${thirdSpec != null ? thirdSpec.displayName : ''},
                         thirdLimit=${leftVisibleCount},
                         thirdCategoryKey=${thirdMeta != null && !#strings.isEmpty(thirdMeta.name) ? thirdMeta.name : thirdName},
                         thirdPosts=${thirdLimit > 0 && !#strings.isEmpty(thirdCategoryKey) ? postFinder.listByCategory(1, thirdLimit, thirdCategoryKey) : null}"
              >
                <div class="news-column-head">
                  <div class="news-column-title" th:if="${not #strings.isEmpty(thirdTitle)}" th:text="${thirdTitle}"></div>
                  <a class="news-column-more" th:if="${thirdCategory != null}" th:href="@{${thirdCategory.status.permalink}}">了解更多＞＞</a>
                </div>
                <div class="news-triple-list" th:if="${thirdPosts != null and thirdPosts.total gt 0}">
                  <a
                    class="news-triple-item"
                    th:each="post, iterStat : ${thirdPosts.items}"
                    th:if="${iterStat.index < thirdLimit}"
                    th:href="@{${post.status.permalink}}"
                  >
                    <span class="news-triple-title">
                      <span class="news-triple-pin" th:if="${post.spec.pinned}">置顶</span>
                      <span class="news-triple-text" th:text="${post.spec.title}"></span>
                    </span>
                    <span class="news-triple-date" th:if="${post.spec.publishTime != null}" th:text="${#temporals.format(post.spec.publishTime, 'yyyy-MM-dd')}"></span>
                  </a>
                </div>
                <div class="empty-state" th:if="${thirdPosts != null and thirdPosts.total == 0}">No posts</div>
              </div>
            </th:block>
          </div>
          </section>
        </th:block>
      </div>
      <div class="empty-state" th:if="${modules == null or #lists.size(modules) == 0}">
        No modules
      </div>
    </section>
  </th:block>
</html>
